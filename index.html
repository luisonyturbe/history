<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>History Study Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .topic-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .quiz-option-btn {
            transition: background-color 0.2s, transform 0.2s;
        }
        .quiz-option-btn:hover {
            transform: scale(1.05);
        }
        .prose-custom {
            max-width: 80ch;
        }
        .prose-custom h2 {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #1f2937;
        }
        .prose-custom h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .prose-custom p {
            margin-bottom: 1rem;
            line-height: 1.6;
            color: #4b5563;
        }
        .prose-custom ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
         .prose-custom li {
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="app">
        <!-- This is where the pages will be rendered -->
    </div>

    <script>
        // This object defines the structure and logic of our application,
        // similar to a component definition in a framework like Vue.
        const appConfig = {
            data() {
                return {
                    currentPage: 'home',
                    currentTopic: null,
                    quizType: null,
                    questions: [],
                    currentQuestionIndex: 0,
                    score: 0,
                    userAnswers: [],
                    topics: {
                        'magna-carta': {
                            title: 'Magna Carta',
                            content: `
                                <div class="prose prose-custom">
                                    <h2>The Magna Carta (1215)</h2>
                                    <p>The Magna Carta, or "Great Charter," is one of the most important documents in history. Signed by King John of England on June 15, 1215, under pressure from a group of rebellious barons, it was the first document to put into writing the principle that the king and his government were not above the law.</p>

                                    <h3>Key Context</h3>
                                    <ul>
                                        <li>King John was an unpopular king. He had lost English territories in France, burdened his subjects with heavy taxes to pay for his wars, and had a reputation for cruelty.</li>
                                        <li>The barons, the most powerful landowners in the kingdom, had had enough. They captured London, forcing King John to negotiate.</li>
                                        <li>The agreement took place at Runnymede, a meadow by the River Thames.</li>
                                    </ul>

                                    <h3>Core Principles</h3>
                                    <p>The Magna Carta contained 63 clauses. While many dealt with specific grievances of the time, several clauses established foundational principles of law and liberty:</p>
                                    <ul>
                                        <li><strong>Rule of Law:</strong> It established that everyone, including the king, was subject to the law.</li>
                                        <li><strong>Right to a Fair Trial:</strong> The most famous clause, 39, states: "No free man shall be seized or imprisoned, or stripped of his rights or possessions... except by the lawful judgment of his equals or by the law of the land." This is the origin of the right to a jury trial.</li>
                                        <li><strong>Limits on Taxation:</strong> It stated that no new taxes could be levied without the "general consent of the realm," meaning the agreement of the leading barons and churchmen.</li>
                                    </ul>

                                    <h3>Legacy and Influence</h3>
                                    <ul>
                                        <li>Although it initially failed and the Pope nullified it, leading to a civil war, the Magna Carta was reissued after King John's death.</li>
                                        <li>Its principles were fundamental to the development of constitutional law in the English-speaking world.</li>
                                        <li>It directly influenced the American Revolution. The colonists believed they were fighting for the rights enshrined in the Magna Carta. Its legacy is clear in the U.S. Constitution and the Bill of Rights, particularly the Fifth Amendment.</li>
                                    </ul>
                                </div>
                            `
                        },
                        'french-revolution': {
                            title: 'French Revolution',
                            content: `
                                <div class="prose prose-custom">
                                    <h2>The French Revolution and The Directory (1795-1799)</h2>
                                    <p>The French Revolution was a period of radical social and political upheaval in France from 1789 to 1799. This summary focuses on a specific phase: The Directory.</p>
                                    
                                    <h3>Background: The Reign of Terror</h3>
                                    <p>Before the Directory, France was ruled by the Jacobins, led by Maximilien Robespierre. This period (1793-1794) is known as the Reign of Terror, where thousands were executed as "enemies of the revolution." Robespierre's fall from power paved the way for a new, more moderate government.</p>

                                    <h3>Formation of The Directory</h3>
                                    <ul>
                                        <li>Following the Reign of Terror, a new constitution was introduced in 1795.</li>
                                        <li>This constitution restricted voting rights to property owners, shifting power to the wealthier middle class (the bourgeoisie).</li>
                                        <li>The government had a bicameral legislature (two legislative councils) and an executive branch consisting of a five-man Directory.</li>
                                    </ul>

                                    <h3>Challenges and Instability</h3>
                                    <p>The Directory's rule was plagued by problems:</p>
                                    <ul>
                                        <li><strong>Economic Crisis:</strong> France faced famine, and the government was effectively bankrupt.</li>
                                        <li><strong>War:</strong> The revolutionary wars against other European powers continued.</li>
                                        <li><strong>Political Instability:</strong> The Directory faced threats from both remaining Jacobins on the left and royalists on the right. There were constant internal power struggles and corruption.</li>
                                    </ul>

                                    <h3>The Rise of Napoleon Bonaparte</h3>
                                    <p>As the Directory became increasingly unpopular and ineffective, the army's power and prestige grew. One general, Napoleon Bonaparte, became a national hero due to his brilliant military victories.</p>
                                    <p>In 1799, Napoleon saw his opportunity. He led a coup d'état that overthrew the Directory, effectively ending the French Revolution and beginning his own rule as First Consul of France. He would later crown himself Emperor.</p>
                                </div>
                            `
                        },
                        'declaration-of-independence': {
                            title: 'Declaration of Independence',
                            content: `
                                <div class="prose prose-custom">
                                    <h2>The Declaration of Independence (1776)</h2>
                                    <p>Adopted by the Second Continental Congress on July 4, 1776, the Declaration of Independence is the founding document of the United States. It formally announced the thirteen American colonies' separation from Great Britain.</p>

                                    <h3>Core Philosophy</h3>
                                    <p>The Declaration, primarily authored by Thomas Jefferson, is famous for its preamble, which lays out a philosophy of government based on the ideas of the Enlightenment:</p>
                                    <ul>
                                        <li><strong>Natural Rights:</strong> "We hold these truths to be self-evident, that all men are created equal, that they are endowed by their Creator with certain unalienable Rights, that among these are Life, Liberty and the pursuit of Happiness."</li>
                                        <li><strong>Consent of the Governed:</strong> Governments are created to protect these rights and "deriv[e] their just powers from the consent of the governed."</li>
                                        <li><strong>Right of Revolution:</strong> When a government becomes tyrannical and destructive of these rights, "it is the Right of the People to alter or to abolish it, and to institute new Government."</li>
                                    </ul>

                                    <h3>List of Grievances</h3>
                                    <p>The bulk of the document is a list of specific grievances against King George III and the British government. These were meant to justify the colonies' decision to rebel. Key complaints included:</p>
                                    <ul>
                                        <li>Taxation without representation.</li>
                                        <li>Obstructing justice and establishing dependent judges.</li>
                                        <li>Keeping standing armies in the colonies during peacetime.</li>
                                        <li>Cutting off colonial trade with the rest of the world.</li>
                                        <li>Waging war against the colonies.</li>
                                    </ul>
                                    
                                    <h3>The Declaration's Conclusion</h3>
                                    <p>The final section officially declares the colonies to be "Free and Independent States," absolved from all allegiance to the British Crown. The signers mutually pledged their "Lives, their Fortunes and their sacred Honor" to support this cause.</p>
                                </div>
                            `
                        },
                        'wwi': {
                            title: 'World War I (1914-1918)',
                            content: `
                               <div class="prose prose-custom">
                                    <h2>World War I (1914-1918)</h2>
                                    <p>Known as the Great War, WWI was a global conflict that involved more than 30 nations and resulted in unprecedented casualties and destruction, reshaping the political map of the world.</p>

                                    <h3>Causes of the War</h3>
                                    <p>The war's immediate trigger was the assassination of <strong>Archduke Franz Ferdinand</strong> of Austria-Hungary by a Serbian nationalist on June 28, 1914. However, the underlying causes were a complex web of alliances, imperialism, militarism, and nationalism.</p>
                                    <ul>
                                        <li><strong>Central Powers:</strong> Primarily Germany, Austria-Hungary, the Ottoman Empire, and Bulgaria.</li>
                                        <li><strong>Allied Powers:</strong> Primarily France, Great Britain, Russia, Italy (who switched sides in 1915), Japan, and the United States (who joined in 1917).</li>
                                    </ul>

                                    <h3>The Nature of the War</h3>
                                    <ul>
                                        <li><strong>Western Front:</strong> Characterized by brutal <strong>trench warfare</strong>, a static and deadly form of combat where soldiers lived and fought in fortified ditches. "No-man's land" was the desolate space between opposing trenches.</li>
                                        <li><strong>New Technologies of War:</strong> Machine guns, poison gas (first used by Germany at the Second Battle of Ypres), tanks (invented by the British), and airplanes made the war more lethal than any before it.</li>
                                        <li><strong>War at Sea:</strong> The British used their powerful navy to blockade Germany. Germany retaliated with <strong>U-boats (submarines)</strong>, sinking Allied ships. The sinking of the passenger ship <em>Lusitania</em> in 1915 outraged the U.S.</li>
                                    </ul>

                                    <h3>Turning Points and the End of the War</h3>
                                    <ul>
                                        <li><strong>U.S. Entry (1917):</strong> Continued German unrestricted submarine warfare and the discovery of the Zimmermann Telegram (a German proposal for a military alliance with Mexico) brought the U.S. into the war.</li>
                                        <li><strong>Russian Revolution (1917):</strong> Russia withdrew from the war after the Bolsheviks came to power, allowing Germany to focus on the Western Front.</li>
                                        <li><strong>Armistice:</strong> Exhausted and facing collapse, Germany signed an armistice on <strong>November 11, 1918</strong>, ending the fighting.</li>
                                    </ul>

                                    <h3>Aftermath: The Treaty of Versailles</h3>
                                    <p>The 1919 treaty officially ended the war. It imposed harsh terms on Germany, including massive financial reparations, loss of territory, and a "war guilt" clause, which bred resentment and is considered a major contributing factor to the rise of Adolf Hitler and World War II.</p>
                               </div>
                            `
                        },
                         'wwii': {
                            title: 'World War II (1939-1945)',
                            content: `
                               <div class="prose prose-custom">
                                    <h2>World War II (1939-1945)</h2>
                                    <p>World War II was the deadliest conflict in human history, involving more than 30 countries. This summary focuses on the European Theater.</p>

                                    <h3>Buildup to War</h3>
                                    <ul>
                                        <li><strong>Axis Aggression:</strong> Germany, under Adolf Hitler, Italy, under Benito Mussolini, and Japan engaged in aggressive expansionism.</li>
                                        <li><strong>Appeasement:</strong> Britain and France initially adopted a policy of appeasement, allowing Hitler to annex territories (like parts of Czechoslovakia via the Munich Agreement) hoping to avoid another war.</li>
                                        <li><strong>Nazi-Soviet Pact:</strong> In a shocking move, Germany and the Soviet Union signed a non-aggression pact in August 1939, secretly agreeing to divide Poland between them.</li>
                                    </ul>

                                    <h3>The War Begins</h3>
                                    <ul>
                                        <li><strong>Invasion of Poland:</strong> On <strong>September 1, 1939</strong>, Germany invaded Poland using "blitzkrieg" (lightning war) tactics. Britain and France declared war on Germany two days later.</li>
                                        <li><strong>Fall of France:</strong> In 1940, Germany rapidly conquered Denmark, Norway, the Netherlands, Belgium, and France. Allied soldiers were evacuated from Dunkirk.</li>
                                        <li><strong>Battle of Britain (1940):</strong> Germany's air campaign (the Blitz) to soften Britain for invasion was defeated by the Royal Air Force (RAF), a crucial turning point.</li>
                                    </ul>

                                    <h3>Major Turning Points</h3>
                                    <ul>
                                        <li><strong>Invasion of the Soviet Union (June 1941):</strong> Hitler broke the pact and invaded the USSR, opening a massive and brutal Eastern Front.</li>
                                        <li><strong>Battle of Stalingrad (1942-43):</strong> The Soviet Union defeated the German army in a devastating battle, marking the beginning of the end for Germany on the Eastern Front.</li>
                                        <li><strong>D-Day (June 6, 1944):</strong> "Operation Overlord," the massive Allied invasion of Normandy, France. This opened the crucial Western Front, leading to the liberation of France.</li>
                                        <li><strong>Battle of the Bulge (Winter 1944):</strong> Germany's last major offensive on the Western Front failed, depleting its remaining resources.</li>
                                    </ul>
                                    
                                    <h3>End of the War in Europe</h3>
                                    <p>Allied forces closed in on Germany from the west and east. The Soviet Red Army captured Berlin in April 1945. Adolf Hitler committed suicide on April 30. Germany officially surrendered on <strong>May 8, 1945 (V-E Day)</strong>.</p>
                               </div>
                            `
                        },
                        'holocaust': {
                            title: 'The Holocaust',
                            content: `
                                <div class="prose prose-custom">
                                    <h2>The Holocaust</h2>
                                    <p>The Holocaust was the systematic, state-sponsored persecution and murder of six million Jews by the Nazi regime and its collaborators. The Nazis, who came to power in Germany in January 1933, believed that Germans were "racially superior" and that Jews, deemed "inferior," were an alien threat to the so-called German racial community.</p>

                                    <h3>Escalation of Persecution</h3>
                                    <p>The persecution of Jews escalated over time:</p>
                                    <ul>
                                        <li><strong>1933-1938:</strong> Upon taking power, the Nazis quickly began to disenfranchise Jews, excluding them from public life, professions, and schools. The <strong>Nuremberg Laws of 1935</strong> institutionalized this discrimination, stripping Jews of their citizenship.</li>
                                        <li><strong>Kristallnacht (Night of Broken Glass), 1938:</strong> A violent pogrom against Jews throughout Nazi Germany. Jewish homes, businesses, and synagogues were destroyed, and thousands of Jewish men were arrested and sent to concentration camps.</li>
                                    </ul>

                                    <h3>The "Final Solution"</h3>
                                    <p>During World War II, Nazi policy shifted from persecution and forced emigration to systematic mass murder. This genocide is known as the "Final Solution to the Jewish Question."</p>
                                    <ul>
                                        <li><strong>Ghettos:</strong> Jews were forced into overcrowded, sealed-off ghettos, where they died from starvation and disease.</li>
                                        <li><strong>Einsatzgruppen (Mobile Killing Units):</strong> Following the invasion of the Soviet Union in 1941, these special SS units carried out mass shootings of Jews in Eastern Europe.</li>
                                        <li><strong>Extermination Camps:</strong> The Nazis established killing centers, or extermination camps, primarily in occupied Poland. The largest was <strong>Auschwitz-Birkenau</strong>. Victims were murdered in gas chambers.</li>
                                    </ul>

                                    <h3>Other Victims of Persecution</h3>
                                    <p>While Jews were the primary targets, the Nazi regime also persecuted other groups based on their perceived racial or ideological inferiority. These included Roma (Gypsies), people with disabilities, some Slavic peoples (Poles, Russians), and political opponents, communists, socialists, Jehovah's Witnesses, and homosexuals.</p>

                                    <h3>Liberation and Aftermath</h3>
                                    <p>As Allied forces moved across Europe in 1944 and 1945, they liberated the concentration camps, exposing the full horror of the Holocaust to the world. The post-war Nuremberg Trials prosecuted leading Nazi officials for war crimes and crimes against humanity.</p>
                                </div>
                            `
                        }
                    },
                    quizQuestions: {
                        'magna-carta': [
                            { q: "The Magna Carta was signed in what year?", a: ["1215", "1066", "1492", "1776"], c: 0 },
                            { q: "Who was the King of England who signed the Magna Carta?", a: ["King John", "King Henry III", "King Richard the Lionheart", "King Edward I"], c: 0 },
                            { q: "What does 'Magna Carta' mean in Latin?", a: ["Great Charter", "My Law", "King's Word", "Fair Trial"], c: 0 },
                            { q: "The Magna Carta established the principle that...", a: ["The King was above the law", "Everyone, including the king, was subject to the law", "Only barons had rights", "The Pope had ultimate authority"], c: 1 },
                            { q: "What famous right is guaranteed in Clause 39 of the Magna Carta?", a: ["Freedom of speech", "The right to vote", "The right to a fair trial by one's equals", "The right to own property"], c: 2 },
                            { q: "The Magna Carta was signed at a meadow called...", a: ["Hastings", "Yorktown", "Waterloo", "Runnymede"], c: 3 },
                            { q: "Which group pressured King John into signing the Magna Carta?", a: ["The peasants", "The French", "The barons", "The clergy"], c: 2 },
                            { q: "The Magna Carta directly influenced which American document?", a: ["The Emancipation Proclamation", "The Monroe Doctrine", "The U.S. Constitution and Bill of Rights", "The Articles of Confederation"], c: 2 },
                            { q: "Initially, the Magna Carta was a failure and was nullified by...", a: ["The King of France", "The Pope", "The English Parliament", "The barons themselves"], c: 1 },
                            { q: "How many clauses were in the original Magna Carta?", a: ["10", "42", "63", "95"], c: 2 },
                        ],
                        'french-revolution': [
                            { q: "The Directory ruled France from...", a: ["1789-1792", "1793-1794", "1795-1799", "1804-1815"], c: 2 },
                            { q: "The period immediately before The Directory was known as...", a: ["The Enlightenment", "The Reign of Terror", "The Napoleonic Era", "The Restoration"], c: 1 },
                            { q: "Who held political power under The Directory's constitution?", a: ["All adult men", "Only the nobility", "The Jacobins", "Wealthier, property-owning middle class"], c: 3 },
                            { q: "The executive branch of The Directory was composed of...", a: ["A single president", "A king", "Three consuls", "Five men"], c: 3 },
                            { q: "Which of these was a major problem faced by The Directory?", a: ["Peace and prosperity", "Strong public support", "Famine, war, and corruption", "An alliance with Britain"], c: 2 },
                            { q: "The Directory was overthrown in 1799 by...", a: ["Maximilien Robespierre", "King Louis XVI", "Napoleon Bonaparte", "The people of Paris"], c: 2 },
                            { q: "What was the government structure before The Directory?", a: ["An absolute monarchy", "A constitutional monarchy", "The Jacobin government", "A military junta"], c: 2 },
                            { q: "The Directory's constitution denied voting rights to...", a: ["Women", "Nobility", "Non-propertied sections of society", "Clergy"], c: 2 },
                            { q: "As The Directory weakened, which group in France gained more power?", a: ["The Church", "The Monarchy", "The Military", "The Merchant class"], c: 2 },
                            { q: "Napoleon Bonaparte overthrew The Directory in an event called a...", a: ["Referendum", "Revolution", "Coup d'état", "Abdication"], c: 2 }
                        ],
                        'declaration-of-independence': [
                            { q: "The Declaration of Independence was adopted on what date?", a: ["April 19, 1775", "July 4, 1776", "October 17, 1781", "September 3, 1783"], c: 1 },
                            { q: "Who was the primary author of the Declaration of Independence?", a: ["George Washington", "Benjamin Franklin", "John Adams", "Thomas Jefferson"], c: 3 },
                            { q: "The Declaration lists 'Life, Liberty and the pursuit of Happiness' as...", a: ["Negotiable rights", "Unalienable Rights", "Rights for landowners only", "Suggestions for government"], c: 1 },
                            { q: "According to the Declaration, governments derive their power from...", a: ["The king", "Military strength", "The consent of the governed", "Divine right"], c: 2 },
                            { q: "The bulk of the Declaration of Independence is a list of grievances against...", a: ["The French", "King George III", "The Spanish", "The Parliament"], c: 1 },
                            { q: "Which of these was NOT a grievance listed in the Declaration?", a: ["Taxation without representation", "Forcing colonists to practice a certain religion", "Keeping standing armies in peacetime", "Cutting off trade"], c: 1 },
                            { q: "The Declaration states that it is the right of the people to do what to a tyrannical government?", a: ["Write letters of complaint", "Move to another country", "Alter or abolish it", "Pay its taxes"], c: 2 },
                            { q: "The Declaration officially declared the thirteen colonies to be...", a: ["A new kingdom", "Free and Independent States", "Part of the French Empire", "Under the protection of Spain"], c: 1 },
                            { q: "The ideas in the Declaration were heavily influenced by the intellectual movement known as...", a: ["The Renaissance", "The Reformation", "The Enlightenment", "The Romantic Era"], c: 2 },
                            { q: "What did the signers of the Declaration pledge to each other?", a: ["Their land and gold", "Their allegiance to a new king", "Their Lives, Fortunes, and sacred Honor", "A peaceful negotiation with Britain"], c: 2 }
                        ],
                        'wwi': [
                            { q: "World War I took place between which years?", a: ["1905-1910", "1914-1918", "1929-1935", "1939-1945"], c: 1 },
                            { q: "The assassination of which figure triggered the start of WWI?", a: ["Kaiser Wilhelm II", "Tsar Nicholas II", "Archduke Franz Ferdinand", "King George V"], c: 2 },
                            { q: "Which of these countries was one of the Central Powers?", a: ["France", "Great Britain", "Russia", "Germany"], c: 3 },
                            { q: "The fighting on the Western Front was characterized by...", a: ["Naval battles", "Guerilla warfare", "Trench warfare", "Fast-moving tank battles"], c: 2 },
                            { q: "What new weapon was first used by the Germans at the Second Battle of Ypres?", a: ["Tanks", "Airplanes", "Poison gas", "Submarines"], c: 2 },
                            { q: "The sinking of which passenger ship in 1915 angered the United States?", a: ["The Titanic", "The Lusitania", "The Britannia", "The Andrea Doria"], c: 1 },
                            { q: "What event caused Russia to withdraw from WWI in 1917?", a: ["A major military defeat", "The Russian Revolution", "A treaty with Britain", "A famine"], c: 1 },
                            { q: "Which country's entry into the war in 1917 was a major turning point for the Allies?", a: ["Italy", "Japan", "China", "The United States"], c: 3 },
                            { q: "The armistice ending the fighting in WWI was signed on...", a: ["July 4, 1917", "December 25, 1917", "November 11, 1918", "June 28, 1919"], c: 2 },
                            { q: "What was the name of the treaty that officially ended WWI and imposed harsh terms on Germany?", a: ["The Treaty of Paris", "The Geneva Convention", "The Yalta Agreement", "The Treaty of Versailles"], c: 3 }
                        ],
                        'wwii': [
                            { q: "WWII began on September 1, 1939, with the German invasion of...", a: ["France", "The Soviet Union", "Poland", "Great Britain"], c: 2 },
                            { q: "Which of these countries was NOT an Axis power?", a: ["Germany", "Italy", "The Soviet Union", "Japan"], c: 2 },
                            { q: "The policy of Britain and France giving in to Hitler's demands before the war was called...", a: ["Appeasement", "Containment", "Isolationism", "Détente"], c: 0 },
                            { q: "The 'blitzkrieg' tactic used by Germany means...", a: ["Trench warfare", "Naval blockade", "Lightning war", "Carpet bombing"], c: 2 },
                            { q: "The Battle of Britain was fought primarily...", a: ["At sea", "In the air", "With tanks", "On the beaches"], c: 1 },
                            { q: "What was the code name for the Allied invasion of Normandy on D-Day?", a: ["Operation Torch", "Operation Barbarossa", "Operation Overlord", "Operation Market Garden"], c: 2 },
                            { q: "The turning point battle on the Eastern Front between Germany and the USSR was...", a: ["The Battle of Moscow", "The Battle of Stalingrad", "The Battle of Kursk", "The Battle of Berlin"], c: 1 },
                            { q: "D-Day, the Allied invasion of Normandy, occurred on what date?", a: ["December 7, 1941", "June 6, 1944", "May 8, 1945", "August 6, 1945"], c: 1 },
                            { q: "What was Germany's final major offensive on the Western Front?", a: ["The Battle of France", "The Battle of Britain", "The Battle of the Bulge", "The Battle of Berlin"], c: 2 },
                            { q: "V-E Day (Victory in Europe Day) is celebrated on which date?", a: ["April 30", "May 8", "June 6", "September 2"], c: 1 }
                        ],
                        'holocaust': [
                            { q: "The Holocaust was the systematic murder of how many Jews by the Nazi regime?", a: ["About 1 million", "About 3 million", "About 6 million", "About 10 million"], c: 2 },
                            { q: "What was the name of the laws passed in 1935 that stripped Jews of their citizenship?", a: ["The Enabling Act", "The Nuremberg Laws", "The Final Solution", "The Warsaw Decree"], c: 1 },
                            { q: "The event in November 1938, where Jewish synagogues and businesses were destroyed, is known as...", a: ["D-Day", "The Night of the Long Knives", "Kristallnacht (Night of Broken Glass)", "The Beer Hall Putsch"], c: 2 },
                            { q: "The Nazi plan for the genocide of the Jewish people was called...", a: ["The New Order", "The Master Plan", "The Final Solution", "Lebensraum"], c: 2 },
                            { q: "What was the largest Nazi extermination camp?", a: ["Dachau", "Buchenwald", "Treblinka", "Auschwitz-Birkenau"], c: 3 },
                            { q: "Mobile killing units that carried out mass shootings in Eastern Europe were called...", a: ["Gestapo", "Einsatzgruppen", "Luftwaffe", "Wehrmacht"], c: 1 },
                            { q: "Besides Jews, which other group was a primary target of Nazi persecution?", a: ["Italians", "French", "Roma (Gypsies)", "British"], c: 2 },
                            { q: "Where were the post-war trials held for leading Nazi officials?", a: ["Berlin", "Munich", "Nuremberg", "Paris"], c: 2 },
                            { q: "What were the overcrowded, sealed-off areas of cities where Jews were forced to live called?", a: ["Suburbs", "Districts", "Ghettos", "Camps"], c: 2 },
                            { q: "The Nazis came to power in Germany in what year?", a: ["1923", "1933", "1939", "1945"], c: 1 }
                        ],
                    }
                };
            },
            methods: {
                navigate(page, topic = null) {
                    this.currentPage = page;
                    this.currentTopic = topic;
                    window.scrollTo(0, 0);
                },
                startQuiz(type) {
                    this.quizType = type;
                    this.currentQuestionIndex = 0;
                    this.score = 0;
                    this.userAnswers = [];

                    if (type === 'all') {
                        // Get 20 questions from all topics
                        let allQuestions = [];
                        Object.keys(this.quizQuestions).forEach(topic => {
                            this.quizQuestions[topic].forEach(q => {
                                allQuestions.push({ ...q, topic: topic });
                            });
                        });
                        this.questions = this.shuffleArray(allQuestions).slice(0, 20);
                    } else {
                        // Get 10 questions from the selected topic
                        const topicQuestions = this.quizQuestions[type].map(q => ({...q, topic: type}));
                        this.questions = this.shuffleArray(topicQuestions).slice(0, 10);
                    }
                    this.currentPage = 'quiz-active';
                },
                submitAnswer(choiceIndex) {
                    const currentQuestion = this.questions[this.currentQuestionIndex];
                    const isCorrect = choiceIndex === currentQuestion.c;
                    if (isCorrect) {
                        this.score++;
                    }
                    this.userAnswers.push({
                        question: currentQuestion.q,
                        answer: currentQuestion.a[choiceIndex],
                        correctAnswer: currentQuestion.a[currentQuestion.c],
                        isCorrect: isCorrect,
                        topic: currentQuestion.topic
                    });

                    if (this.currentQuestionIndex < this.questions.length - 1) {
                        this.currentQuestionIndex++;
                    } else {
                        this.currentPage = 'quiz-results';
                    }
                },
                getResultsFeedback() {
                    if (this.quizType !== 'all') return '';

                    const incorrectAnswers = this.userAnswers.filter(a => !a.isCorrect);
                    if (incorrectAnswers.length === 0) {
                        return '<p class="text-green-600 font-semibold">Incredible work! You got a perfect score. You have a strong grasp of all topics.</p>';
                    }

                    const topicErrors = {};
                    incorrectAnswers.forEach(answer => {
                        if (!topicErrors[answer.topic]) {
                            topicErrors[answer.topic] = 0;
                        }
                        topicErrors[answer.topic]++;
                    });

                    const weakAreas = Object.keys(topicErrors).filter(topic => topicErrors[topic] >= 2);

                    if (weakAreas.length > 0) {
                        let feedback = '<p class="font-semibold text-lg mb-2">Feedback & Suggestions:</p><p>Based on your results, you might want to review the following topics where you missed a few questions:</p><ul class="list-disc list-inside mt-2">';
                        weakAreas.forEach(topic => {
                            feedback += `<li class="capitalize">${this.topics[topic].title.replace(/_/g, ' ')}</li>`;
                        });
                        feedback += '</ul><p class="mt-2">Consider reviewing the study guides for these areas and trying the specific quizzes for them!</p>';
                        return feedback;
                    }

                    return '<p>Good job! You have a solid understanding across the board. Review the questions you missed to sharpen your knowledge.</p>';
                },
                 shuffleArray(array) {
                    for (let i = array.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [array[i], array[j]] = [array[j], array[i]];
                    }
                    return array;
                },
                renderPage() {
                    const appEl = document.getElementById('app');
                    switch (this.currentPage) {
                        case 'home':
                            appEl.innerHTML = this.HomePage();
                            break;
                        case 'topic':
                            appEl.innerHTML = this.TopicPage();
                            break;
                        case 'quiz':
                            appEl.innerHTML = this.QuizPage();
                            break;
                        case 'quiz-active':
                            appEl.innerHTML = this.QuizActivePage();
                            break;
                        case 'quiz-results':
                             appEl.innerHTML = this.QuizResultsPage();
                             break;
                        default:
                            appEl.innerHTML = this.HomePage();
                    }
                     this.addEventListeners();
                },
                addEventListeners() {
                    document.querySelectorAll('[data-navigate]').forEach(el => {
                        el.addEventListener('click', (e) => {
                            const page = e.currentTarget.getAttribute('data-navigate');
                            const topic = e.currentTarget.getAttribute('data-topic');
                            this.navigate(page, topic);
                            this.renderPage();
                        });
                    });
                     document.querySelectorAll('[data-quiz-start]').forEach(el => {
                        el.addEventListener('click', (e) => {
                            const type = e.currentTarget.getAttribute('data-quiz-start');
                            this.startQuiz(type);
                             this.renderPage();
                        });
                    });
                    document.querySelectorAll('[data-answer]').forEach(el => {
                        el.addEventListener('click', (e) => {
                            const choiceIndex = parseInt(e.currentTarget.getAttribute('data-answer'));
                            this.submitAnswer(choiceIndex);
                             this.renderPage();
                        });
                    });
                },
                HomePage() {
                    let topicCards = '';
                    for (const key in this.topics) {
                        topicCards += `
                        <div class="bg-white rounded-lg shadow-md p-6 topic-card cursor-pointer" data-navigate="topic" data-topic="${key}">
                            <h3 class="text-xl font-semibold text-gray-800">${this.topics[key].title}</h3>
                        </div>`;
                    }

                    return `
                        <div class="min-h-screen bg-gray-100">
                            <header class="bg-white shadow-md">
                                <div class="container mx-auto px-6 py-4">
                                    <h1 class="text-3xl font-bold text-center text-gray-800">History Study Hub</h1>
                                    <p class="text-center text-gray-600 mt-2">Your one-stop resource for the big exam!</p>
                                </div>
                            </header>
                            <main class="container mx-auto px-6 py-12">
                                <h2 class="text-2xl font-semibold text-center mb-8">Select a Topic to Study</h2>
                                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    ${topicCards}
                                    <div class="bg-indigo-600 text-white rounded-lg shadow-lg p-6 topic-card cursor-pointer flex flex-col justify-center items-center" data-navigate="quiz">
                                        <h3 class="text-2xl font-bold">Quiz Zone</h3>
                                        <p>Test Your Knowledge!</p>
                                    </div>
                                </div>
                            </main>
                        </div>
                    `;
                },
                TopicPage() {
                    const topic = this.topics[this.currentTopic];
                    return `
                        <div class="min-h-screen bg-white">
                            <header class="bg-gray-800 text-white shadow-md">
                                <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                                    <h1 class="text-3xl font-bold">${topic.title}</h1>
                                    <button class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded" data-navigate="home">
                                        &larr; Back to Menu
                                    </button>
                                </div>
                            </header>
                             <main class="container mx-auto px-6 py-12">
                                ${topic.content}
                            </main>
                        </div>
                    `;
                },
                QuizPage() {
                    let quizOptions = '';
                    for (const key in this.topics) {
                         quizOptions += `
                            <button class="bg-white hover:bg-gray-200 text-gray-800 font-bold py-4 px-6 rounded-lg shadow-md quiz-option-btn w-full text-left" data-quiz-start="${key}">
                                ${this.topics[key].title} (10 Questions)
                            </button>
                        `;
                    }

                    return `
                         <div class="min-h-screen flex flex-col items-center justify-center bg-gray-100 p-4">
                            <div class="w-full max-w-2xl text-center">
                                 <h1 class="text-4xl font-bold text-gray-800 mb-2">Quiz Zone</h1>
                                 <p class="text-gray-600 mb-8">Choose your challenge.</p>
                                <div class="space-y-4">
                                    ${quizOptions}
                                    <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-lg shadow-lg quiz-option-btn w-full" data-quiz-start="all">
                                        Comprehensive Exam (20 Questions)
                                    </button>
                                </div>
                                <button class="mt-8 text-indigo-600 hover:text-indigo-800 font-semibold" data-navigate="home">
                                    &larr; Back to Main Menu
                                </button>
                            </div>
                        </div>
                    `;
                },
                QuizActivePage() {
                     const question = this.questions[this.currentQuestionIndex];
                     let optionsHtml = '';
                     question.a.forEach((option, index) => {
                         optionsHtml += `
                            <button class="w-full bg-white hover:bg-indigo-100 border-2 border-gray-300 hover:border-indigo-400 text-gray-800 font-semibold py-3 px-4 rounded-lg text-left transition" data-answer="${index}">
                                ${option}
                            </button>
                         `;
                     });

                    return `
                        <div class="min-h-screen flex items-center justify-center bg-gray-100 p-4">
                            <div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-3xl">
                                <div class="mb-4">
                                    <p class="text-sm text-gray-500">Question ${this.currentQuestionIndex + 1} of ${this.questions.length}</p>
                                    <div class="bg-gray-200 rounded-full h-2.5 mt-2">
                                        <div class="bg-indigo-600 h-2.5 rounded-full" style="width: ${((this.currentQuestionIndex + 1) / this.questions.length) * 100}%"></div>
                                    </div>
                                </div>
                                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6">${question.q}</h2>
                                <div class="space-y-4">
                                    ${optionsHtml}
                                </div>
                            </div>
                        </div>
                    `;
                },
                 QuizResultsPage() {
                    let resultsHtml = '';
                    this.userAnswers.forEach(answer => {
                        resultsHtml += `
                            <div class="p-4 rounded-lg ${answer.isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'} border">
                                <p class="font-semibold text-gray-800">${answer.question}</p>
                                <p class="text-sm ${answer.isCorrect ? 'text-green-700' : 'text-red-700'}">Your answer: ${answer.answer}</p>
                                ${!answer.isCorrect ? `<p class="text-sm text-green-700">Correct answer: ${answer.correctAnswer}</p>` : ''}
                            </div>
                        `;
                    });

                     const feedbackHtml = this.getResultsFeedback();

                    return `
                        <div class="min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8">
                            <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 sm:p-8">
                                <h1 class="text-4xl font-bold text-center text-gray-800">Quiz Results</h1>
                                <div class="text-center my-6">
                                    <p class="text-lg text-gray-600">You scored</p>
                                    <p class="text-6xl font-bold text-indigo-600">${this.score} / ${this.questions.length}</p>
                                </div>
                                
                                ${this.quizType === 'all' ? `<div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg my-6">${feedbackHtml}</div>` : ''}

                                <h2 class="text-2xl font-semibold mt-8 mb-4">Review Your Answers:</h2>
                                <div class="space-y-4">
                                    ${resultsHtml}
                                </div>
                                <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
                                    <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg quiz-option-btn" data-quiz-start="${this.quizType}">
                                        Try Again
                                    </button>
                                     <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg quiz-option-btn" data-navigate="quiz">
                                        Choose Another Quiz
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                },
            },
            // The mounted hook is a lifecycle method that runs once the app is ready.
            mounted() {
                this.renderPage();
            }
        };

        // Create and initialize the app instance using an IIFE (Immediately Invoked Function Expression).
        // This pattern helps create a self-contained module and correctly sets the scope.
        (function(config) {
            // The main app object will hold both the state (data) and the methods.
            const app = {};

            // Assign data properties from the data() function to the app object.
            Object.assign(app, config.data());

            // Assign methods to the app object. Crucially, we use .bind(app) to ensure that
            // whenever a method is called, the 'this' keyword inside that method refers to the 'app'
            // object itself. This fixes the error where 'this' was not correctly pointing to the
            // object containing the state and other methods.
            for (const methodName in config.methods) {
                app[methodName] = config.methods[methodName].bind(app);
            }

            // Now that the 'app' object is fully constructed with its data and correctly-bound methods,
            // we call the 'mounted' hook with the 'app' object as its context.
            config.mounted.call(app);
            
        })(appConfig);
    </script>
</body>
</html>
